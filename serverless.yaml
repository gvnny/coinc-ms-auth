service: coinc-ms-auth

package:
  exclude:
    - node_modules/**

provider:
  name: aws
  runtime: nodejs18.x
  region: sa-east-1
  stackTags:
    Projeto: 'COINC'
  environment:
    ACCESS_KEY_ID: ${param:AWS_ACCESS_KEY_ID}
    ACCESS_SECRET_KEY: ${param:AWS_SECRET_ACCESS_KEY}
  stage: ${opt:stage, self:custom.defaultStage}
  profile: ${self:custom.profiles.${self:provider.stage}}

functions:
  lambda:
    image: ${param:IMAGE}
    events:
      - http:
          method: ANY
          path: '/{proxy+}'
          cors: true

custom:
  defaultStage: dev
  profiles:
    dev: devProfile
    prod: prodProfile
